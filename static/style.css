body {
    background-color: #131316;
    margin: 0;
    font-family: system-ui, sans-serif;
    color: #ececec;
}

#container {
    display: flex;
    flex-direction: column;
    height: 100vh;
}

#chat-wrapper {
    flex: 1;
    overflow-y: auto;
    padding: 24px 0;
}

#chat {
    display: flex;
    flex-direction: column;
    gap: 18px;
    max-width: 780px;
    margin: 0 auto;
    width: 100%;
    padding: 0 16px;
}

.message {
    padding: 16px 20px;
    border-radius: 12px;
    max-width: 90%;
    white-space: pre-wrap;
    line-height: 1.6;
    font-size: 15px;
}

.user {
    align-self: flex-end;
    background: #2d70ff;
    color: white;
}

.assistant {
    align-self: flex-start;
    background: #1e1f22;
    border: 1px solid #2c2c33;
}

#input-wrapper {
    padding: 16px;
    background: #131316;
    border-top: 1px solid #2a2a2a;
    display: flex;
    justify-content: center;
}

#input-box {
    background: #1a1a1d;
    border: 1px solid #333;
    border-radius: 10px;
    padding: 10px;
    max-width: 780px;
    width: 100%;
    display: flex;
}

#userInput {
    flex: 1;
    resize: none;
    background: transparent;
    border: none;
    color: #fff;
    font-size: 15px;
    outline: none;
}

#sendBtn {
    background: #2d70ff;
    color: white;
    border: none;
    padding: 0 18px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    transition: 0.1s;
}

#sendBtn:hover {
    background: #5a8bff;
}

::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-thumb {
    background: #3a3a3a;
    border-radius: 8px;
}
/* ===== COMPACT MARKDOWN SPACING ===== */

.message h1,
.message h2,
.message h3,
.message h4,
.message h5,
.message h6 {
    margin-top: 6px !important;
    margin-bottom: 6px !important;
}

.message p {
    margin-top: 4px !important;
    margin-bottom: 4px !important;
}

.message ul,
.message ol {
    margin-top: 4px !important;
    margin-bottom: 4px !important;
    padding-left: 22px !important;
}

.message li {
    margin-bottom: 3px !important;
}

.message pre {
    margin-top: 6px !important;
    margin-bottom: 6px !important;
}

.message blockquote {
    margin: 6px 0 !important;
    padding-left: 10px !important;
    border-left: 3px solid #444;
}

.katex-display {
    margin: 6px 0 !important;
}

/* ===============================
   ðŸ”¥ ULTRA COMPACT MARKDOWN PATCH
   =============================== */

.message * {
    margin-top: 2px !important;
    margin-bottom: 2px !important;
}

/* Titres (rÃ©duction drastique) */
.message h1,
.message h2,
.message h3,
.message h4,
.message h5,
.message h6 {
    line-height: 1.2 !important;
    margin-top: 6px !important;
    margin-bottom: 4px !important;
}

/* Paragraphes */
.message p {
    margin-top: 2px !important;
    margin-bottom: 2px !important;
}

/* Listes UL / OL */
.message ul,
.message ol {
    margin: 2px 0 !important;
    padding-left: 20px !important;
}

/* Ã‰lÃ©ments de liste (STYLE CHATGPT) */
.message li {
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1.35 !important;
}

/* EmpÃªche <li><p>...</p></li> de crÃ©er un gros espace */
.message li p {
    display: inline !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Blockquotes */
.message blockquote {
    margin: 4px 0 !important;
    padding-left: 10px !important;
    border-left: 3px solid #444;
    line-height: 1.35;
}

/* Blocs de code */
.message pre {
    margin: 6px 0 !important;
}

/* Formules KaTeX display */
.katex-display {
    margin: 4px 0 !important;
}

/* EmpÃªche le contenu de dÃ©passer comme ChatGPT */
#chat {
    max-width: 780px;
    width: 100%;
    margin: 0 auto;
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
}

/* EmpÃªche les blocs de code de dÃ©border sur la droite */
.message pre {
    background: #0d1117 !important;
    border: 1px solid #30363d !important;
    padding: 12px !important;
    border-radius: 8px;
    overflow-x: auto !important;
    max-width: 100%;
}

.message code {
    font-family: "JetBrains Mono", "Fira Code", monospace;
    font-size: 14px;
    line-height: 1.45;
    white-space: pre-wrap;
    color: #e6edf3;
}

.message ul,
.message ol {
    margin: 2px 0 !important;
    padding-left: 20px !important;
}

/* Remove vertical spacing between list items */
.message li {
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1.35 !important; /* tighter line height */
}

/* INLINE <p> inside <li> (critical fix) */
.message li p {
    display: inline !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Remove extra line inserted by KaTeX inline rendering */
.message li .katex {
    margin: 0 !important;
    padding: 0 !important;
}

/* Compress math inside lists */
.message li .katex-inline {
    line-height: 1 !important;
}

.message ul li {
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1.25 !important;
}
